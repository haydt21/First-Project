<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{/admin/layout/layout :: dynamic(~{::main})}">
<main>
    <div class="container" style="margin-top: -50px;">
        <h1 class="text-center">Quản lý người dùng</h1>
        <form method="post" th:object="${user}" class="col-md-8 offset-2 mb-2">

            <div class="form-group">
                <label>Tài khoản:</label>
                <input type="text" class="form-control" th:field="*{id}" disabled="disabled"/>
            </div>

            <div class="form-group">
                <label>Họ tên:</label>
                <input type="text" class="form-control" th:field="*{fullname}" />
            </div>

            <div class="form-group">
                <label>Email:</label>
                <input type="email" class="form-control" th:field="*{email}" />
            </div>

            <div class="form-group">
                <label>Giới tính:</label>
                <div class="row">
                    <div class="form-check form-check-inline mx-5">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" th:field="*{gender}"
                            th:value="true">
                        <label class="form-check-label">Nam</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" th:field="*{gender}"
                            th:value="false">
                        <label class="form-check-label">Nữ</label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>Ngày sinh:</label>
                <input type="date" class="form-control" path="birthday" th:field="*{birthday}"/>
            </div>

            <div class="form-group">
                <label>Số điện thoại:</label>
                <input type="text" class="form-control" path="phone" th:field="*{phone}"/>
            </div>

            <div class="form-group">
                <label>Địa chỉ:</label>
                <textarea type="text" class="form-control" path="address" th:field="*{address}">
                            </textarea>
            </div>

            <div class="form-group">
                <label>Quyền:</label>
                <div class="row">
                    <div class="form-check form-check-inline mx-5">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions"
                        th:field="*{role}" th:value="true">
                        <label class="form-check-label">Quản trị</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions"
                        th:field="*{role}" th:value="false">
                        <label class="form-check-label">Người dùng</label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>Trạng thái:</label>
                <div class="row">
                    <div class="form-check form-check-inline mx-5">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions"
                        th:field="*{active}" th:value="true">
                        <label class="form-check-label">Đang hoạt động</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions"
                        th:field="*{active}" th:value="false">
                        <label class="form-check-label">Vô hiệu hóa</label>
                    </div>
                </div>
            </div>

            <hr style="max-height: 2px !important;background-color: black;">

            <div class="row col-md-12 justify-content-center">
                <button th:formaction="@{/admin/manage/user/update/{key}(key=${id})}" class="btn btn-warning mx-3" style="border-radius: 20px;">Cập
                    nhật</button>
                <button th:formaction="@{/admin/users}" class="btn btn-primary" style="border-radius: 20px;">Làm
                    mới</button>
            </div>
        </form>
    </div>

    <form action="" class="row mt-5">
        <div class="form-group row col-md-12 justify-content-center">
            <label class="col-form-label"><strong>Tìm kiếm người dùng:</strong></label>
            <div class="col-md-4">
                <input type="search" class="form-control" placeholder="Nhập tên khách hàng">
            </div>
            <button type="submit" class="btn btn-success">Tìm kiếm</button>
        </div>
    </form>

    <table class="table table-hover mt-1">
        <thead class="table-info">
            <tr>
                <th>Tài khoản</th>
                <th>Họ tên</th>
                <th>Email</th>
                <th>Giới tính</th>
                <th>Ngày sinh</th>
                <th>Số điện thoại</th>
                <th>Địa chỉ</th>
                <th>Quyền</th>
                <th>Trạng thái</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="u, state:${list}">
                <td>[[${u.id}]]</td>
                <td>[[${u.fullname}]]</td>
                <td>[[${u.email}]]</td>
                <td>[[${u.gender ? 'Nam' : 'Nữ'}]]</td>
                <td>[[${u.birthday}]]</td>
                <td>[[${u.phone}]]</td>
                <td>[[${u.address}]]</td>
                <td>[[${u.role ? 'Admin' : 'User'}]]</td>
                <td>[[${u.active ? 'Đang hoạt động' : 'Bị Khoá'}]]</td>
                <td><a th:href="@{/admin/manage/user/getform/{key}(key=${u.id})}">Sửa</a>|
                    <a href="">Xóa</a>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="row col-md-12 justify-content-center mb-4">
        <nav aria-label="Page navigation example">
            <ul class="pagination">
                <c:if test="${list.number == 0}">
                    <li class="page-item"><a class="page-link" href="" style="pointer-events: none;">&lt;&lt;</a></li>
                    <li class="page-item"><a class="page-link" href="" style="pointer-events: none;">&lt;</a></li>
                </c:if>
                <c:if test="${list.number > 0}">
                    <li class="page-item"><a class="page-link" href="/admin/manage/user?p=0">&lt;&lt;</a></li>
                    <li class="page-item"><a class="page-link" href="/admin/manage/user?p=${list.number-1}">&lt;</a>
                    </li>
                </c:if>
                <c:forEach varStatus="i" begin="0" end="${list.totalPages-1}">
                    <li class="page-item"><a a class="page-link" href="/admin/manage/user?p=${i.index}">${i.index +
                            1}</a></li>
                </c:forEach>

                <c:if test="${list.number < list.totalPages - 1}">
                    <li class="page-item"><a class="page-link" href="/admin/manage/user?p=${list.number+1}">&gt;</a>
                    </li>
                    <li class="page-item"><a class="page-link"
                            href="/admin/manage/user?p=${list.totalPages-1}">&gt;&gt;</a></li>
                </c:if>
                <c:if test="${list.number == list.totalPages - 1}">
                    <li class="page-item"><a class="page-link" href="/admin/manage/user?p=${list.number+1}"
                            style="pointer-events: none;">&gt;</a></li>
                    <li class="page-item"><a class="page-link" href="/admin/manage/user?p=${list.totalPages-1}"
                            style="pointer-events: none;">&gt;&gt;</a></li>
                </c:if>
            </ul>
        </nav>
    </div>
</main>
<!-- content -->

</html>